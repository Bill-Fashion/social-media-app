{"ast":null,"code":"const debug = require('debug');\n\nconst memoizer = require('lru-memoizer');\n\nfunction cacheWrapper(client, _ref) {\n  let {\n    cacheMaxEntries = 5,\n    cacheMaxAge = 600000\n  } = _ref;\n  const logger = debug('jwks');\n  logger(`Configured caching of signing keys. Max: ${cacheMaxEntries} / Age: ${cacheMaxAge}`);\n  return memoizer.sync({\n    hash: kid => kid,\n    load: client.getSigningKey.bind(client),\n    maxAge: cacheMaxAge,\n    max: cacheMaxEntries\n  });\n}\n\nmodule.exports.default = cacheWrapper;","map":{"version":3,"sources":["/Users/phuc/node_modules/jwks-rsa/src/wrappers/cache.js"],"names":["debug","require","memoizer","cacheWrapper","client","cacheMaxEntries","cacheMaxAge","logger","sync","hash","kid","load","getSigningKey","bind","maxAge","max","module","exports","default"],"mappings":"AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,MAAMC,QAAQ,GAAGD,OAAO,CAAC,cAAD,CAAxB;;AAEA,SAASE,YAAT,CAAsBC,MAAtB,QAA6E;AAAA,MAA/C;AAAEC,IAAAA,eAAe,GAAG,CAApB;AAAuBC,IAAAA,WAAW,GAAG;AAArC,GAA+C;AAC3E,QAAMC,MAAM,GAAGP,KAAK,CAAC,MAAD,CAApB;AACAO,EAAAA,MAAM,CAAE,4CAA2CF,eAAgB,WAAUC,WAAY,EAAnF,CAAN;AACA,SAAOJ,QAAQ,CAACM,IAAT,CAAc;AACnBC,IAAAA,IAAI,EAAGC,GAAD,IAASA,GADI;AAEnBC,IAAAA,IAAI,EAAEP,MAAM,CAACQ,aAAP,CAAqBC,IAArB,CAA0BT,MAA1B,CAFa;AAGnBU,IAAAA,MAAM,EAAER,WAHW;AAInBS,IAAAA,GAAG,EAAEV;AAJc,GAAd,CAAP;AAMD;;AAEDW,MAAM,CAACC,OAAP,CAAeC,OAAf,GAAyBf,YAAzB","sourcesContent":["const debug = require('debug');\nconst memoizer = require('lru-memoizer');\n\nfunction cacheWrapper(client, { cacheMaxEntries = 5, cacheMaxAge = 600000 }) {\n  const logger = debug('jwks');\n  logger(`Configured caching of signing keys. Max: ${cacheMaxEntries} / Age: ${cacheMaxAge}`);\n  return memoizer.sync({\n    hash: (kid) => kid,\n    load: client.getSigningKey.bind(client),\n    maxAge: cacheMaxAge,\n    max: cacheMaxEntries\n  });\n}\n\nmodule.exports.default = cacheWrapper;\n"]},"metadata":{},"sourceType":"script"}